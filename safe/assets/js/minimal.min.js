$(function () {
    $("#content").css('padding-left','265px');
    /*一级导航伸缩*/
    $("#sidebar .sidebar-toggle").on("click", function () {
        var cla = $(this).parents('.first').attr('class');
        var collapsed = new RegExp("collapsed");
        if(collapsed.test(cla)){
            $(".first").addClass('collapsed');
            $(this).parents('.first').removeClass("collapsed");
        }else{
            $(this).parents('.first').addClass("collapsed");
            $(this).children('menu').addClass('act');
        }
    });
    /*左侧导航跳转*/
    $(".navbar-collapse").find('li a').on('click',function (e) {
        if ( e && e.preventDefault ){
            e.preventDefault();
            var target = $(this).attr('href');
            $("#iframe").attr('src',target);
        }else{
            window.event.returnValue = false;
        }
    });
    /*子菜单伸缩*/
    $(".dropdown").children("a").on('click',function (){
        $('.dropdown').removeClass("open");
        var status = $(this).parents('.dropdown').attr('class');
        var act = new RegExp("act");
        if(act.test(status)){
            $(this).parents('.dropdown').removeClass("act")
        }else{
            $(this).attr('aria-expanded','true');
            $('.dropdown').removeClass('act');
            $(this).parents('.dropdown').addClass('act');
        }
    });
    $(".navbar-collapse").find('a').on('click',function (){
        $(".navbar-collapse").find('a').css('background','rgba(0,0,0,0)');
        $(this).css('background','rgba(0,0,0,0.5)');
    });
    /*美化滚动条*/
    $("#sidebar").niceScroll({
        cursorcolor: "#000000",
        zindex: 999999,
        bouncescroll: true,
        cursoropacitymax: 0.4,
        cursorborder: "",
        cursorborderradius: 0,
        cursorwidth: "7px",
        railalign: "left",
        railoffset: {top: 45, left: 0}
    });
    $("#content").niceScroll({
        cursorcolor: "#000000",
        zindex: 999999,
        bouncescroll: true,
        cursoropacitymax: 0.4,
        cursorborder: "",
        cursorborderradius: 7,
        cursorwidth: "7px",
        background: "rgba(0,0,0,.1)",
        autohidemode: false,
        railpadding: {top: 0, right: 2, left: 2, bottom: 0}
    });
});
